<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="shortcut icon" href="/assets/icons/favicon.ico">

  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon.png">

  <!-- Android Chrome Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/assets/icons/android-chrome-512x512.png">

  <!-- Web App Manifest -->
  <link rel="manifest" href="/assets/icons/site.webmanifest">


  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="长条儿鲸" />
  <meta name="theme-color" content="#ffffff" />

  <title>Orca Editor v1.2.0</title>
  
  <!-- Tailwind CSS -->
  <link href="/assets/css/tailwind.output.css" rel="stylesheet">
  
  <!-- 自定义样式 -->
  <!-- <link rel="stylesheet" href="/assets/css/function.css"> -->
  <link rel="stylesheet" href="/assets/css/orca.css">
  <style>
    /* 选择文件夹按钮样式 */
    .select-folder-btn {
      width: 247px;
      height: 59px;
      border-radius: 20.7px;
      background: #34A5DD;
      color: #fff;
      font-size: 1.2rem;
      font-weight: 700;
      border: 2px solid #445564;
      box-sizing: border-box;
      box-shadow: inset 0px -1px 0px 2px rgba(0,0,0,0.1), inset 0px 3px 0px 0px rgba(255,255,255,0.2);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s, box-shadow 0.2s, border-color 0.2s;
      outline: none;
      opacity: 1;
    }
    .select-folder-btn:hover, .select-folder-btn:focus {
      background: #2593c6;
      border-color: #7cc7f7;
    }
    /* header+sidebar 阴影 */
    .header-shadow, .sidebar-shadow {
      box-shadow: 3px 3px 10px 0px rgba(0,0,0,0.05);
    }
    /* 在 orca.css 末尾添加伪元素阴影样式 */
    .sidebar-btn::before {
      content: '';
      position: absolute;
      left: 0; top: 0; right: 0; bottom: 0;
      border-radius: 50%;
      box-shadow: 3px 3px 10px 0px rgba(0,0,0,0.05);
      z-index: -1;
      transition: box-shadow 0.2s;
    }
  </style>
</head>

<body class="bg-[#fefdfb]">
  <!-- 最外层容器：全屏，flex布局，横向排列sidebar和主内容区 -->
  <div class="relative w-screen h-screen flex overflow-hidden">
    <!-- logo 绝对定位，z-30，left:27px; top:13px; -->
    <div style="position:absolute; left:27px; top:13px; z-index:30; width:236px;" class="flex flex-col items-center">
      <img src="/assets/ui/icons/nav/logo.svg" alt="Orca Logo" class="h-20">
    </div>
    <!-- Sidebar+header+圆弧统一阴影 -->
    <aside id="sidebar" class="w-[320px] min-w-[200px] max-w-[320px] h-screen flex flex-col justify-center items-center bg-[#FFFEFA] z-10 relative shadow-[3px_3px_10px_0px_rgba(0,0,0,0.05)]">
      <div id="sidebar-content" class="w-full flex flex-col items-center gap-6 mt-8">
        <!-- 侧边栏提示文字 -->
        <div class="w-[168px] text-center opacity-60 font-[900] text-[32px] leading-[120%] tracking-[-0.05em] text-[#445564] font-['Source_Han_Sans',_'PingFang_SC',_'Microsoft_YaHei',_'Helvetica_Neue',_'Arial',_sans-serif] mb-4">
          请先加载<br>本地文件夹
        </div>
        <button id="select-docs-folder-btn" class="select-folder-btn">选择文件夹</button>
        <!-- 目录树容器 -->
        <div id="fileTree" class="w-full mt-6"></div>
      </div>
      <!-- sidebar btn ... -->
      <button class="sidebar-btn absolute z-40 right-[-24px] top-1/3 rounded-full bg-[#FFFEFA] w-12 h-12 flex items-center justify-center border border-transparent transition-right duration-200 ease-in-out group hover:right-[-8px] hover:border-[3px] hover:border-[#FAD385]" aria-label="展开/收起侧边栏">
        <img src="/assets/ui/icons/nav/icon-sidebar.svg" alt="展开/收起侧边栏" class="w-6 h-6 transition-all duration-200 ease-in-out rotate-180">
        <div class="absolute left-full top-1/2 -translate-y-1/2 ml-2 w-auto px-4 py-2 bg-[#FBF3E0] rounded-lg shadow-[3px_3px_10px_0px_rgba(0,0,0,0.05)] opacity-0 pointer-events-none group-hover:opacity-100 transition-all duration-200 ease-in-out flex items-center justify-center font-extrabold text-[16px] leading-[1.2] text-center tracking-[-0.05em] text-[#445564] whitespace-nowrap">展开/收起侧边栏</div>
      </button>
    </aside>
    <!-- workspace 区域，包含 header、内容区、菜单按钮、sidebar btn -->
    <div id="workspace" class="flex-1 flex flex-col h-screen bg-[#fefdfb] shadow-[3px_3px_10px_0_0_0.05)]">
      <!-- header 区域，去除 border，阴影已加在父级 -->
      <header class="relative w-full h-[80px] min-h-[80px] max-h-[80px] flex items-end px-0 z-20 overflow-visible">
        <!-- 一体化 header 背景和圆弧，SVG 宽度100%，右侧锚点拉伸，带阴影 -->
        <div class="absolute left-0 top-0 z-30 w-full h-[217.57px] pointer-events-none select-none">
          <svg width="100%" height="217.57" viewBox="0 0 1000 217.57" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
            <defs>
              <filter id="headerShadow" x="-6" y="0" width="1020" height="230" filterUnits="userSpaceOnUse">
                <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="#000" flood-opacity="0.08"/>
              </filter>
            </defs>
            <g filter="url(#headerShadow)">
              <path d="M0,217.2C0,143.3,0,115.1,22.3,97.6C44.6,80,80.5,80,174.56,80L1000,80L1000,0L0,0L0,217.2Z" fill="#FFFEFA"/>
            </g>
          </svg>
        </div>
      </header>
      <!-- 内容区：content-area，水平居中，header下方50px，宽高固定，阴影，背景白色，全部用 Tailwind class -->
      <div id="content" class="content-area mx-auto mt-[50px] w-[393px] h-[852px] bg-white shadow-[0_4px_20px_0_rgba(0,0,0,0.1)] rounded-none flex flex-col z-20 overflow-y-auto transition-all duration-200 cubic-bezier(.4,0,.2,1)">
        <!-- 文章区域内容 -->
        <header class="article-header px-8 pt-8">
          <h1 class="text-xl font-bold">欢迎使用 Orca</h1>
          <p class="text-xs text-gray-400 mt-2"><a href="#">鲸P</a> <a href="#">长条儿鲸</a> <span>2025年5月12日 14:30</span></p>
        </header>
        <main class="note-to-mp px-8 pt-2">
          <!-- 这里放置文章内容或欢迎引导内容 -->
        </main>
      </div>
      <!-- 菜单按钮组：绝对定位，吸附在 workspace 右上角 -->
      <div class="absolute z-30" style="right: 24px; top: 130px;">
        <div class="flex flex-col gap-4">
          <button id="refresh-btn" class="rounded-full bg-[#FFFEFA] shadow-lg w-12 h-12 flex items-center justify-center border border-transparent transition-transform transition-shadow transition-colors duration-200 ease-in-out hover:bg-[#FFFEFA] hover:-translate-y-0.5 hover:border-[3px] hover:border-[#FAD385] hover:shadow-[3px_7px_10px_0px_rgba(0,0,0,0.05)] group relative">
            <img src="/assets/ui/icons/nav/refresh.svg" alt="刷新" class="w-6 h-6">
            <div class="absolute right-full top-1/2 -translate-y-1/2 mr-2 w-auto px-4 py-2 bg-[#FBF3E0] rounded-lg shadow-[3px_3px_10px_0px_rgba(0,0,0,0.05)] opacity-0 pointer-events-none group-hover:opacity-100 transition-all duration-200 ease-in-out flex items-center justify-center font-extrabold text-[16px] leading-[1.2] text-center tracking-[-0.05em] text-[#445564] whitespace-nowrap">刷新</div>
          </button>
          <button id="copy-to-wechat-btn" class="rounded-full bg-[#FFFEFA] shadow-lg w-12 h-12 flex items-center justify-center border border-transparent transition-transform transition-shadow transition-colors duration-200 ease-in-out hover:bg-[#FFFEFA] hover:-translate-y-0.5 hover:border-[3px] hover:border-[#FAD385] hover:shadow-[3px_7px_10px_0px_rgba(0,0,0,0.05)] group relative">
            <img src="/assets/ui/icons/nav/copyToWXmp.svg" alt="复制到公众号" class="w-6 h-6">
            <div class="absolute right-full top-1/2 -translate-y-1/2 mr-2 w-auto px-4 py-2 bg-[#FBF3E0] rounded-lg shadow-[3px_3px_10px_0px_rgba(0,0,0,0.05)] opacity-0 pointer-events-none group-hover:opacity-100 transition-all duration-200 ease-in-out flex items-center justify-center font-extrabold text-[16px] leading-[1.2] text-center tracking-[-0.05em] text-[#445564] whitespace-nowrap">复制到公众号</div>
          </button>
          <button id="copy-html-btn" class="rounded-full bg-[#FFFEFA] shadow-lg w-12 h-12 flex items-center justify-center border border-transparent transition-transform transition-shadow transition-colors duration-200 ease-in-out hover:bg-[#FFFEFA] hover:-translate-y-0.5 hover:border-[3px] hover:border-[#FAD385] hover:shadow-[3px_7px_10px_0px_rgba(0,0,0,0.05)] group relative">
            <img src="/assets/ui/icons/nav/copyToHtml.svg" alt="复制HTML" class="w-6 h-6">
            <div class="absolute right-full top-1/2 -translate-y-1/2 mr-2 w-auto px-4 py-2 bg-[#FBF3E0] rounded-lg shadow-[3px_3px_10px_0px_rgba(0,0,0,0.05)] opacity-0 pointer-events-none group-hover:opacity-100 transition-all duration-200 ease-in-out flex items-center justify-center font-extrabold text-[16px] leading-[1.2] text-center tracking-[-0.05em] text-[#445564] whitespace-nowrap">复制HTML</div>
          </button>
          <button id="select-docs-folder-menu-btn" class="rounded-full bg-[#FFFEFA] shadow-lg w-12 h-12 flex items-center justify-center border border-transparent transition-transform transition-shadow transition-colors duration-200 ease-in-out hover:bg-[#FFFEFA] hover:-translate-y-0.5 hover:border-[3px] hover:border-[#FAD385] hover:shadow-[3px_7px_10px_0px_rgba(0,0,0,0.05)] group relative">
            <img src="/assets/ui/icons/nav/library.svg" alt="重新选择文档库" class="w-6 h-6">
            <div class="absolute right-full top-1/2 -translate-y-1/2 mr-2 w-auto px-4 py-2 bg-[#FBF3E0] rounded-lg shadow-[3px_3px_10px_0px_rgba(0,0,0,0.05)] opacity-0 pointer-events-none group-hover:opacity-100 transition-all duration-200 ease-in-out flex items-center justify-center font-extrabold text-[16px] leading-[1.2] text-center tracking-[-0.05em] text-[#445564] whitespace-nowrap">重新选择文档库</div>
          </button>
        </div>
      </div>
      <!-- 虎鲸插画：绝对定位，右下角，最大高420px，z-20 -->
      <img src="/assets/ui/icons/nav/orca_smile.svg" alt="Orca Whale" class="absolute right-10 bottom-0 max-h-[420px] pointer-events-none select-none" style="z-index:2;">
    </div>
  </div>
  <!-- Toast 提示 -->
  <div id="toast" class="fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg hidden z-50">
    <span id="toast-message"></span>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/markdown-it-mark/dist/markdown-it-mark.min.js"></script>
  <script type="module">
    import { copyContentToClipboardWithStyle, copyRawHtml } from './copyToWeChat.js';
    import './orca.js';
    // 这里可通过 JS 控制 sidebar-content 区域的内容切换
  </script>
</body>

</html>